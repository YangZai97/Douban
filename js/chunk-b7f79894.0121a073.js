(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7f79894"],{5358:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"movie-detail"},[e("div",{staticClass:"box"},[e("el-card",{staticClass:"detail-card"},[e("h1",[t._v(t._s(t.data.title)+" ("+t._s(t.data.year)+")")]),e("div",{staticClass:"movie-info"},[e("div",{staticClass:"movie-img"},[e("img",{attrs:{src:t.images,alt:t.data.alt}})]),e("div",{staticClass:"movie-text"},[e("ul",{staticClass:"movie-info-list"},[e("li",[e("span",[t._v("导演：")]),t._l(t.data.directors,function(a){return e("a",{key:a.id,attrs:{herf:a.alt,target:"_blank"}},[t._v(t._s(a.name))])})],2),e("li",[e("span",[t._v("编剧：")]),t._l(t.data.directors,function(a){return e("a",{key:a.id,attrs:{herf:a.alt,target:"_blank"}},[t._v(t._s(a.name))])})],2),e("li",[e("span",[t._v("主演：")]),t._l(t.data.casts,function(a){return e("a",{key:a.id,attrs:{herf:a.alt,target:"_blank"}},[t._v(t._s(a.name))])})],2),e("li",[e("span",[t._v("地区：")]),t._l(t.data.countries,function(a){return e("span",{key:a},[t._v(t._s(a))])})],2),e("li",[e("span",[t._v("类型：")]),t._l(t.data.genres,function(a){return e("span",{key:a},[t._v(t._s(a))])})],2)])])]),e("div",{staticClass:"movie-description movie-part"},[e("h3",[t._v(t._s(t.data.title)+"的剧情简介......")]),e("p",[t._v(t._s(t.data.summary))])]),e("div",{staticClass:"movie-images movie-part"},[e("h3",[t._v(t._s(t.data.title)+"的剧情图片......")]),e("div",{staticClass:"imgs"},t._l(t.photos,function(t){return e("a",{key:t.id,attrs:{href:"#"}},[e("img",{attrs:{src:t,alt:t}})])}))]),e("div",{staticClass:"movie-reviews movie-part"},[e("h3",[t._v(t._s(t.data.title)+"的短评......")]),e("div",{staticClass:"reviews"},[t._l(t.reviews,function(a){return e("aside",{key:a.id,staticClass:"user-review"},[e("p",{staticClass:"user-info"},[e("span",{staticClass:"author"},[t._v(t._s(a.author.name))]),e("span",{staticClass:"create-time"},[t._v(t._s(a.created_at))])]),e("p",{staticClass:"summary"},[t._v(t._s(a.summary))])])}),e("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,"page-size":t.page.pageSize,layout:"prev, pager, next",total:t.page.total},on:{"update:currentPage":function(a){t.$set(t.page,"currentPage",a)},"current-change":t.getMovieReviews}})],2)])])],1)])},s=[],n=(e("ac6a"),e("cadf"),e("551c"),e("097d"),e("bc3a")),r=e.n(n),o={name:"detail",data:function(){return{data:{},images:"",photos:[],reviews:[],page:{currentPage:1,pageSize:10,total:0}}},methods:{getMovieInfo:function(){var t=this,a={apikey:"0b2bdeda43b5688921839c8ecb20399b"},e=this.$route.params.id;r.a.get("/api/v2/movie/subject/"+e,{params:a}).then(function(a){t.data=a.data,t.images=a.data.images.medium}).catch(function(t){console.log(t)})},getMoviePhotos:function(){var t=this,a=this.$route.params.id,e={apikey:"0b2bdeda43b5688921839c8ecb20399b",start:(this.page.currentPage-1)*this.page.pageSize+1,count:this.page.pageSize};r.a.get("/api/v2/movie/subject/"+a+"/photos",{params:e}).then(function(a){var e=a.data.photos;function i(t){if(void 0!==t){var a=t.substring(8);return"https://images.weserv.nl/?url="+a}}var s=[];e.forEach(function(t){s.push(i(t.cover))}),t.photos=s}).catch(function(t){console.log(t)})},getMovieReviews:function(){var t=this,a=this.$route.params.id,e={apikey:"0b2bdeda43b5688921839c8ecb20399b",start:(this.page.currentPage-1)*this.page.pageSize+1,count:this.page.pageSize};r.a.get("/api/v2/movie/subject/"+a+"/reviews",{params:e}).then(function(a){t.reviews=a.data.reviews,t.page.total=a.data.total}).catch(function(t){console.log(t)})}},mounted:function(){this.getMovieInfo(),this.getMoviePhotos(),this.getMovieReviews()}},c=o,l=(e("61af"),e("2877")),u=Object(l["a"])(c,i,s,!1,null,null,null);u.options.__file="detail.vue";a["default"]=u.exports},"57d6":function(t,a,e){},"61af":function(t,a,e){"use strict";var i=e("57d6"),s=e.n(i);s.a},ac6a:function(t,a,e){for(var i=e("cadf"),s=e("0d58"),n=e("2aba"),r=e("7726"),o=e("32e9"),c=e("84f2"),l=e("2b4c"),u=l("iterator"),v=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=s(p),m=0;m<g.length;m++){var f,h=g[m],_=p[h],b=r[h],L=b&&b.prototype;if(L&&(L[u]||o(L,u,d),L[v]||o(L,v,h),c[h]=d,_))for(f in i)L[f]||n(L,f,i[f],!0)}}}]);